---
import BaseLayout from "../layouts/BaseLayout.astro";

import DiscographyCard from "../components/DiscographyCard.astro";
import '@styles/components/cards.scss'
import '@styles/pages/discography.scss'


import {getDiscography} from "../scripts/getDiscography";
const discographyImages = await getDiscography();
---

<BaseLayout>
    <Fragment slot="head">
        <title>Discography</title>
    </Fragment>

    <header>
        <h1>Discography</h1>
        <p>It's music!</p>
        <small>These links will be clickable when I get the markdown parsing to work and a page layout for it. It'll be soon&trade;!</small>
    </header>

    <main>
        <section class="discography-layout">
            {discographyImages.map((item) => (
                    <DiscographyCard
                            title={item.data.title}
                            cover={item.coverImage}
                            tags={item.data.tags}
                            link={`/discography/${item.slug}`}
                    />
            ))}
        </section>
    </main>
</BaseLayout>